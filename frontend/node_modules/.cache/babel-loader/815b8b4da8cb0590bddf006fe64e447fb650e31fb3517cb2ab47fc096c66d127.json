{"ast":null,"code":"var _jsxFileName = \"/Users/bella_pong/Desktop/presto/frontend/src/pages/Login.jsx\",\n  _s = $RefreshSig$();\n// Imports\nimport React from 'react';\nimport axios from 'axios';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport { URL, checkRequiredInputs } from '../helper';\nimport { StyledForm, StyledMain } from '../appStyle.js';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Header from '../components/Header';\n\n// Function to login\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Login({\n  token,\n  setTokenFunction\n}) {\n  _s();\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const navigate = useNavigate();\n\n  // User is already logged in\n  // Go to dashboard\n  if (token !== '') {\n    console.log(token);\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 12\n    }, this);\n  }\n  const login = async () => {\n    console.log(email, password);\n\n    // Check if all values are given\n    const invalidInput = checkRequiredInputs({\n      field: 'Email',\n      value: email\n    }, {\n      field: 'Password',\n      value: password\n    });\n    // Input invalid\n    if (invalidInput !== null) {\n      alert(`${invalidInput} is required to login`);\n    } else {\n      try {\n        const response = await axios.post(`${URL}/admin/auth/login`, {\n          email: email,\n          password: password\n        });\n\n        // Login successful\n        // Set user token and go to dashboard\n        setTokenFunction(response.data.token);\n        navigate('/');\n      } catch (err) {\n        // Login unsuccessful\n        alert(err.response.data.error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      token: token,\n      setTokenFunction: setTokenFunction\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledMain, {\n      children: /*#__PURE__*/_jsxDEV(StyledForm, {\n        onSubmit: login,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Login Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Email\",\n          onChange: event => setEmail(event.target.value),\n          required: true,\n          variant: \"outlined\",\n          type: \"email\",\n          sx: {\n            mb: 3,\n            width: '100%',\n            '& .MuiInputLabel-root': {\n              fontSize: '16px'\n            }\n          },\n          fullWidth: true,\n          value: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Password\",\n          onChange: event => setPassword(event.target.value),\n          required: true,\n          variant: \"outlined\",\n          type: \"password\",\n          sx: {\n            mb: 3,\n            width: '100%',\n            '& .MuiInputLabel-root': {\n              fontSize: '16px'\n            }\n          },\n          fullWidth: true,\n          value: password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: login,\n          type: \"submit\",\n          variant: \"contained\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Login, \"OqFWRqNCJ3BNGyYdED5qKBGtbCw=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","axios","useNavigate","Navigate","URL","checkRequiredInputs","StyledForm","StyledMain","Button","TextField","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","token","setTokenFunction","_s","email","setEmail","useState","password","setPassword","navigate","console","log","to","fileName","_jsxFileName","lineNumber","columnNumber","login","invalidInput","field","value","alert","response","post","data","err","error","children","onSubmit","label","onChange","event","target","required","variant","type","sx","mb","width","fontSize","fullWidth","onClick","_c","$RefreshReg$"],"sources":["/Users/bella_pong/Desktop/presto/frontend/src/pages/Login.jsx"],"sourcesContent":["// Imports\nimport React from 'react';\nimport axios from 'axios';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport { URL, checkRequiredInputs } from '../helper';\nimport { StyledForm, StyledMain } from '../appStyle.js';\n\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\n\nimport Header from '../components/Header';\n\n// Function to login\nfunction Login ({ token, setTokenFunction }) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const navigate = useNavigate();\n\n  // User is already logged in\n  // Go to dashboard\n  if (token !== '') {\n    console.log(token);\n    return <Navigate to=\"/\" />\n  }\n\n  const login = async () => {\n    console.log(email, password);\n\n    // Check if all values are given\n    const invalidInput = checkRequiredInputs(\n      { field: 'Email', value: email },\n      { field: 'Password', value: password }\n    );\n    // Input invalid\n    if (invalidInput !== null) {\n      alert(`${invalidInput} is required to login`);\n    } else {\n      try {\n        const response = await axios.post(`${URL}/admin/auth/login`, {\n          email: email,\n          password: password\n        });\n\n        // Login successful\n        // Set user token and go to dashboard\n        setTokenFunction(response.data.token);\n        navigate('/');\n      } catch (err) { // Login unsuccessful\n        alert(err.response.data.error);\n      }\n    }\n  }\n\n  return (\n    <>\n      <Header token={token} setTokenFunction={setTokenFunction} />\n      <StyledMain>\n        <StyledForm onSubmit={login}>\n          <h2>Login Form</h2>\n          <TextField label=\"Email\" onChange={event => setEmail(event.target.value)} required variant=\"outlined\" type=\"email\" sx={{ mb: 3, width: '100%', '& .MuiInputLabel-root': { fontSize: '16px' }, }} fullWidth value={email} />\n          <TextField label=\"Password\" onChange={event => setPassword(event.target.value)} required variant=\"outlined\" type=\"password\" sx={{ mb: 3, width: '100%', '& .MuiInputLabel-root': { fontSize: '16px' }, }} fullWidth value={password} />\n          <Button onClick={login} type=\"submit\" variant=\"contained\">Login</Button>\n        </StyledForm>\n      </StyledMain>\n    </>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}