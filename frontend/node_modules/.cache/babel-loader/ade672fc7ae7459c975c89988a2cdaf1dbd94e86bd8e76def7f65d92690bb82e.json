{"ast":null,"code":"var _jsxFileName = \"/Users/bella_pong/Desktop/presto/frontend/src/pages/Register.jsx\",\n  _s = $RefreshSig$();\n// Imports\nimport React from 'react';\nimport axios from 'axios';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport { URL, checkStringMatched, checkRequiredInputs } from '../helper';\nimport { StyledForm, StyledMain } from '../appStyle.js';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Header from '../components/Header.jsx';\n\n// Function to login\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Register({\n  token,\n  setTokenFunction\n}) {\n  _s();\n  const [email, setEmail] = React.useState('');\n  const [password1, setPassword1] = React.useState('');\n  const [password2, setPassword2] = React.useState('');\n  const [name, setName] = React.useState('');\n  const navigate = useNavigate();\n\n  // User is already logged in\n  // Go to dashboard\n  if (token !== '') {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 12\n    }, this);\n  }\n  const register = async () => {\n    console.log(name, email, password1, password2);\n\n    // Check if all values are given\n    const invalidInput = checkRequiredInputs({\n      field: 'Name',\n      value: name\n    }, {\n      field: 'Email',\n      value: email\n    }, {\n      field: 'Password',\n      value: password1\n    }, {\n      field: 'Confirmed password',\n      value: password2\n    });\n    // Input invalid\n    if (invalidInput !== null) {\n      alert(`${invalidInput} is required to login`);\n    } else {\n      // Check if password and confirmed password are matched\n      // Unmatched\n      if (!checkStringMatched(password1, password2)) {\n        alert(\"Passwords don't match. Please try again\");\n      } else {\n        // Matched\n        try {\n          // console.log(email, password1, name);\n          const response = await axios.post(`${URL}/admin/auth/register`, {\n            email: email,\n            password: password1,\n            name: name\n          });\n          // Registration successful\n          // Set user token and go to dashboard\n          setTokenFunction(response.data.token);\n          navigate('/');\n        } catch (err) {\n          // Registration unsuccessful\n          alert(err.response.data.error);\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      token: token,\n      setTokenFunction: setTokenFunction\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledMain, {\n      children: /*#__PURE__*/_jsxDEV(StyledForm, {\n        onSubmit: register,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Register Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Name\",\n          onChange: event => setName(event.target.value),\n          required: true,\n          variant: \"outlined\",\n          type: \"text\",\n          sx: {\n            mb: 3,\n            width: '100%',\n            '& .MuiInputLabel-root': {\n              fontSize: '16px'\n            }\n          },\n          fullWidth: true,\n          value: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Email\",\n          onChange: event => setEmail(event.target.value),\n          required: true,\n          variant: \"outlined\",\n          type: \"email\",\n          sx: {\n            mb: 3,\n            width: '100%',\n            '& .MuiInputLabel-root': {\n              fontSize: '16px'\n            }\n          },\n          fullWidth: true,\n          value: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Password\",\n          onChange: event => setPassword1(event.target.value),\n          required: true,\n          variant: \"outlined\",\n          type: \"password\",\n          sx: {\n            mb: 3,\n            width: '100%',\n            '& .MuiInputLabel-root': {\n              fontSize: '16px'\n            }\n          },\n          fullWidth: true,\n          value: password1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Confirmed Password\",\n          onChange: event => setPassword2(event.target.value),\n          required: true,\n          variant: \"outlined\",\n          type: \"password\",\n          sx: {\n            mb: 3,\n            width: '100%',\n            '& .MuiInputLabel-root': {\n              fontSize: '16px'\n            }\n          },\n          fullWidth: true,\n          value: password2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: register,\n          type: \"submit\",\n          variant: \"contained\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Register, \"RRm3DF3mcavXosV9bx3yR46uFks=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","axios","useNavigate","Navigate","URL","checkStringMatched","checkRequiredInputs","StyledForm","StyledMain","TextField","Button","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","Register","token","setTokenFunction","_s","email","setEmail","useState","password1","setPassword1","password2","setPassword2","name","setName","navigate","to","fileName","_jsxFileName","lineNumber","columnNumber","register","console","log","invalidInput","field","value","alert","response","post","password","data","err","error","children","onSubmit","label","onChange","event","target","required","variant","type","sx","mb","width","fontSize","fullWidth","onClick","_c","$RefreshReg$"],"sources":["/Users/bella_pong/Desktop/presto/frontend/src/pages/Register.jsx"],"sourcesContent":["// Imports\nimport React from 'react';\nimport axios from 'axios';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport { URL, checkStringMatched, checkRequiredInputs } from '../helper';\nimport { StyledForm, StyledMain, } from '../appStyle.js';\n\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\n\nimport Header from '../components/Header.jsx';\n\n// Function to login\nfunction Register ({ token, setTokenFunction }) {\n  const [email, setEmail] = React.useState('');\n  const [password1, setPassword1] = React.useState('');\n  const [password2, setPassword2] = React.useState('');\n  const [name, setName] = React.useState('');\n  const navigate = useNavigate();\n\n  // User is already logged in\n  // Go to dashboard\n  if (token !== '') {\n    return <Navigate to=\"/\" />\n  }\n\n  const register = async () => {\n    console.log(name, email, password1, password2);\n\n    // Check if all values are given\n    const invalidInput = checkRequiredInputs(\n      { field: 'Name', value: name },\n      { field: 'Email', value: email },\n      { field: 'Password', value: password1 },\n      { field: 'Confirmed password', value: password2 }\n    );\n    // Input invalid\n    if (invalidInput !== null) {\n      alert(`${invalidInput} is required to login`);\n    } else {\n      // Check if password and confirmed password are matched\n      // Unmatched\n      if (!checkStringMatched(password1, password2)) {\n        alert(\"Passwords don't match. Please try again\");\n      } else { // Matched\n        try {\n          // console.log(email, password1, name);\n          const response = await axios.post(`${URL}/admin/auth/register`, {\n            email: email,\n            password: password1,\n            name: name,\n          });\n          // Registration successful\n          // Set user token and go to dashboard\n          setTokenFunction(response.data.token);\n          navigate('/');\n        } catch (err) { // Registration unsuccessful\n          alert(err.response.data.error);\n        }\n      }\n    }\n  }\n\n  return (\n    <>\n      <Header token={token} setTokenFunction={setTokenFunction} />\n      <StyledMain>\n        <StyledForm onSubmit={register}>\n          <h2>Register Form</h2>\n          <TextField label=\"Name\" onChange={event => setName(event.target.value)} required variant=\"outlined\" type=\"text\" sx={{ mb: 3, width: '100%', '& .MuiInputLabel-root': { fontSize: '16px' }, }} fullWidth value={name} />\n          <TextField label=\"Email\" onChange={event => setEmail(event.target.value)} required variant=\"outlined\" type=\"email\" sx={{ mb: 3, width: '100%', '& .MuiInputLabel-root': { fontSize: '16px' }, }} fullWidth value={email} />\n          <TextField label=\"Password\" onChange={event => setPassword1(event.target.value)} required variant=\"outlined\" type=\"password\" sx={{ mb: 3, width: '100%', '& .MuiInputLabel-root': { fontSize: '16px' }, }} fullWidth value={password1} />\n          <TextField label=\"Confirmed Password\" onChange={event => setPassword2(event.target.value)} required variant=\"outlined\" type=\"password\" sx={{ mb: 3, width: '100%', '& .MuiInputLabel-root': { fontSize: '16px' }, }} fullWidth value={password2} />\n          <Button onClick={register} type=\"submit\" variant=\"contained\">Register\n          </Button>\n        </StyledForm>\n      </StyledMain>\n    </>\n  );\n}\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}